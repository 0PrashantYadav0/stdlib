'use strict';

var re = '';

// Use a native function as a template:
re += Function.prototype.toString.call( Function );

// Escape special RegExp characters:
re = re.replace( /([.*+?^=!:$(){}|[\]\/\\])/g, '\\$1' ); // eslint-disable-line no-useless-escape

// Replace any mentions of `Function` to make template generic and replace `for ...` and additional info provided in other environments, such as Rhino.
re = re.replace( /Function|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?' );

// Bracket the regular expression:
re = '^' + re + '$';


// EXPORTS //

module.exports = new RegExp( re );
