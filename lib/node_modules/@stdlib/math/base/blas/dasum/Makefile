
# VARIABLES #

# Determine the absolute path of the Makefile (see http://blog.jgc.org/2007/01/what-makefile-am-i-in.html):
this_dir := $(dir $(CURDIR)/$(word $(words $(MAKEFILE_LIST)),$(MAKEFILE_LIST)))

# Remove the trailing slash:
this_dir := $(patsubst %/,%,$(this_dir))


# TARGETS #

# Default target.
#
# This target is the default target.

all:
	cd $(this_dir)/src && $(MAKE) all

.PHONY: all


# Perform clean-up.
#
# This target removes generated files.

clean:
	cd $(this_dir)/src && $(MAKE) clean
	cd $(this_dir)/examples && $(MAKE) clean

.PHONY: clean


# Run examples.
#
# This target compiles and runs example files.

examples:
	cd $(this_dir)/examples && $(MAKE) all && $(MAKE) run

.PHONY: examples
