'use strict';

// MODULES //

var isnan = require( '@stdlib/math/base/utils/is-nan' );


// VARIABLES //

var NUM_WARMUPS = 8;
var TABLE_SIZE = 32;


// SHUFFLE TABLE //

/**
* Initializes a shuffle table.
*
* @private
* @param {Function} lcg - linear congruential pseudorandom number generator
* @returns {NumberArray} shuffle table
*/
function createTable( lcg ) {
	var table;
	var v;
	var i;

	// "warm-up" the LCG...
	for ( i = 0; i < NUM_WARMUPS; i++ ) {
		v = lcg();
	}
	// Prevent the above loop from being discarded by the compiler...
	if ( isnan( v ) ) {
		throw new Error( 'unexpected error. LCG returned `NaN`.' );
	}
	// Create the shuffle table...
	table = new Array( TABLE_SIZE );
	for ( i = TABLE_SIZE-1; i >= 0; i-- ) {
		table[ i ] = lcg();
	}
	return table;
} // end FUNCTION createTable()


// EXPORTS //

module.exports = createTable;
