'use strict';

var hasGeneratorsSupport = require( '@stdlib/utils/detect-generator-support' )();
var log1p = require( '@stdlib/math/base/special/log1p' );
var sumSeries = require( './../lib' );


if ( hasGeneratorsSupport ) {
	require( './es2015-generator.js' );
} else {
	console.log( 'log1p(0.5) evaluated via log1p module: %d', log1p( 0.5 ) );
	console.log( 'log1p(0.5) evaluated via infinite series expansion: %d', sumSeries( log1p_series( 0.5 ) ) );
}

function log1p_series ( x ) {
	var k = 0;
	var m_mult = -x;
	var m_prod = -1;
	return function next() {
		m_prod *= m_mult;
		return ( m_prod / ++k );
	};
}
