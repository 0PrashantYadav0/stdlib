'use strict';

// MODULES //

var evalpoly = require( '@stdlib/math/base/tools/evalpoly' );
var pow = require( '@stdlib/math/base/special/pow' );
var abs = require( '@stdlib/math/base/special/abs' );
var coefficients = require( './coefficients.js' );


// MAIN //

/**
* Evaluates a Lucas polynomial.
*
* @param {integer} n - Lucas polynomial to evaluate
* @param {number} x - value at which to evaluate a Lucas polynomial
* @returns {number} result
*
* @example
* var v = lucaspoly( 5, 1.0 );
* // returns 11.0
*/
function lucaspoly( n, x ) {
	var coefs;
	var an;
	var v;

	an = abs( n );
	coefs = coefficients( an );

	v = evalpoly( coefs, x );
	if ( n >= 0 ) {
		return v;
	}
	return pow( -1.0, an ) * v;
}


// EXPORTS //

module.exports = lucaspoly;
