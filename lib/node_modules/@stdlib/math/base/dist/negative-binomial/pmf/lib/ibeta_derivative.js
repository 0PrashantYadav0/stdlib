'use strict';

// MODULES //

var ibetaPowerTerms = require( '@stdlib/math/base/special/betainc/lib/ibeta_power_terms.js' );


// INCOMPLETE BETA DERIVATIVE //

/**
* Computes the partial derivative with respect to x of the incomplete beta function.
*
* @private
* @param {Probability} x - input value (0 < x <= 1)
* @param {PositiveNumber} a - first parameter
* @param {PositiveNumber} b - second parameter (must be greater than 1)
* @returns {number} value of the partial derivative
*/
function ibeta_derivative( x, a, b ) {
	var f1;
	var y;
	if ( x === 1.0 ) {
		return 0.0;
	}
	// Regular cases:
	f1 = ibetaPowerTerms( a, b, x, 1.0 - x, true );
	y = ( 1.0 - x ) * x;
	f1 /= y;
	return f1;
} // end FUNCTION ibeta_derivative()


// EXPORTS //

module.exports = ibeta_derivative;
