'use strict';

/*
* This function has been adapted from [StatsFuns.jl]{@link https://github.com/JuliaStats/StatsFuns.jl/blob/master/src/basicfuns.jl} Julia package.
*
* The implementation follows the original, but has been modified for JavaScript.
*/

/*
The StatsFuns.jl package is licensed under the MIT "Expat" License:
Copyright (c) 2015: Dahua Lin.
*/

// MODULES //

var log1p = require( '@stdlib/math/base/special/log1p' );
var exp = require( '@stdlib/math/base/special/exp' );


// MAIN //

/**
* Compute ln( 1 + exp(x) ) without overflow.
*
* @param {number} x - input value
* @returns {number} function value
*/
function log1pexp( x ) {
	if ( x <= 18.0 ) {
		return log1p( exp(x) );
	}
	if ( x > 33.3 ) {
		return x;
	}
	// Case: 18.0 < x <= 33.3
	return x + exp( -x );
} // end FUNCTION log1pexp()


// EXPORTS //

module.exports = log1pexp;
