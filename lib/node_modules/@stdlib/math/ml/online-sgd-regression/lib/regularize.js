'use strict';

// CONSTANTS //

var MIN_SCALING_FACTOR = 1e-7;


// FUNCTIONS //

var max = Math.max;


// L2 REGULARIZATION //

/**
* L2 regularization of feature weights.
*
* @private
* @param {WeightVector} weights - current model coefficients
* @param {NonNegativeNumber} lambda - regularization parameter
* @param {PositiveNumber} eta - current learning rate
*/
function regularize( weights, lambda, eta ) {
	var scalingFactor;
	if ( lambda > 0.0 ) {
		scalingFactor = 1.0 - ( eta * lambda );
		weights.scaleTo( max( scalingFactor, MIN_SCALING_FACTOR ) );
	}
} // end FUNCTION regularize()


// EXPORTS //

module.exports = regularize;
