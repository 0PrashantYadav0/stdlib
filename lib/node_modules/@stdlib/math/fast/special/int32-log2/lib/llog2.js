'use strict';

// VARIABLES //

var B4 = 0xFFFF0000 >>> 0;
var B3 = 0xFF00|0;
var B2 = 0xF0|0;
var B1 = 0xC|0;
var B0 = 0x2|0;

var S4 = 16|0;
var S3 = 8|0;
var S2 = 4|0;
var S1 = 2|0;
var S0 = 1|0;


// MAIN //

/**
* Computes an integer binary logarithm (base two).
*
* @param {integer32} x - input value
* @returns {integer32} integer binary logarithm
*
* @example
* var v = llog2( 4 );
* // returns 2
* @example
* var v = llog2( 8 );
* // returns 3
* @example
* var v = llog2( 9 );
* // returns 3
*/
function llog2( x ) {
	var out = 0;

	if ( x & B4 ) {
		x >>>= S4;
		out |= S4;
	}
	if ( x & B3 ) {
		x >>>= S3;
		out |= S3;
	}
	if ( x & B2 ) {
		x >>>= S2;
		out |= S2;
	}
	if ( x & B1 ) {
		x >>>= S1;
		out |= S1;
	}
	if ( x & B0 ) {
		x >>>= S0;
		out |= S0;
	}
	return out;
} // end FUNCTION llog2()


// EXPORTS //

module.exports = llog2;
