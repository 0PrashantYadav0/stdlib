'use strict';

var MAX_ARRAY_LENGTH = require( './../lib' );

function alloc( len ) {
	var arr;
	var i;
	if ( len > MAX_ARRAY_LENGTH ) {
		throw new RangeError( 'invalid input argument. The maximum length for a generic array is '+MAX_ARRAY_LENGTH+'. To create a longer array-like data structure, consider either typed arrays or an array-like object.' );
	}
	// Manually allocate to ensure "fast" elements...
	arr = [];
	for ( i = 0; i < len; i++ ) {
		arr.push( 0 );
	}
	return arr;
}

var arr = alloc( 10 );
console.log( arr );

try {
	arr = alloc( 1e300 );
} catch ( err ) {
	console.error( err.message );
}
