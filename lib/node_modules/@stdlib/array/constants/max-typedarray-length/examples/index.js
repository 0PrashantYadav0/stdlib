'use strict';

var ctors = require( '@stdlib/array/ctors' );
var MAX_TYPEDARRAY_LENGTH = require( './../lib' );

function fill( dtype, len, value ) {
	var ctor;
	var arr;
	var i;
	if ( len > MAX_TYPEDARRAY_LENGTH ) {
		throw new RangeError( 'invalid input argument. The maximum length for a typed array is '+MAX_TYPEDARRAY_LENGTH+'.' );
	}
	ctor = ctors( dtype );
	arr = new ctor( len ); // eslint-disable-line no-new-cap
	for ( i = 0; i < len; i++ ) {
		arr[ i ] = value;
	}
	return arr;
}

var arr = fill( 'float64', 10, 3.14 );
console.log( arr );

try {
	arr = fill( 'float64', 1e300, 3.14 );
} catch ( err ) {
	console.error( err.message );
}
