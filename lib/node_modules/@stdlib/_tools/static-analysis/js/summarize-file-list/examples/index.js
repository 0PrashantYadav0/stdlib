'use strict';

var resolve = require( 'path' ).resolve;
var analyze = require( './../lib' );

var files = [
	resolve( __dirname, 'index.js' ),
	resolve( __dirname, '..', 'lib', 'index.js' ),
	resolve( __dirname, '..', 'lib', 'main.js' ),
	resolve( __dirname, '..', 'lib', 'sync.js' ),
	resolve( __dirname, '..', 'test', 'test.js' ),
	resolve( __dirname, '..', 'bin', 'cli' )
];

analyze( files, clbk );

function clbk( error, results ) {
	if ( error ) {
		return console.error( 'Error: %s', error.message );
	}
	console.log( JSON.stringify( results ) );
}
