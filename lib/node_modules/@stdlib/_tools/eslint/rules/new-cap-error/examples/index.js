'use strict';

var Linter = require( 'eslint' ).Linter;
var rule = require( './../lib' );

var linter = new Linter();
var result;

var code = 'var err = Error( \'invoked without new\' );';

linter.defineRule( 'new-cap-error', rule );

result = linter.verify( code, {
	'rules': {
		'new-cap-error': 'error'
	}
});
console.log( result );
/* =>
	[
		{
			ruleId: 'new-cap-error',
			severity: 2,
			message: '`Error` constructor is invoked without the `new` keyword',
			line: 1,
			column: 11,
			nodeType: 'CallExpression',
			source: 'var err = Error( \'invoked without new\' );',
			endLine: 1,
			endColumn: 41
		}
	]
*/
