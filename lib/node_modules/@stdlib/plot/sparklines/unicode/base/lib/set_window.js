'use strict';

// MODULES //

var isPositiveInteger = require( '@stdlib/assert/is-positive-integer' ).isPrimitive;
var isNull = require( '@stdlib/assert/is-null' );
var PINF = require( '@stdlib/constants/math/float64-pinf' );


// MAIN //

/**
* Sets the sliding window size.
*
* @param {(PositiveInteger|null)} size - sliding window size
* @throws {TypeError} must be a positive integer
* @throws {Error} must be greater than or equal to the number of data elements
*/
function setWindow( size ) {
	/* eslint-disable no-invalid-this */
	if ( !isPositiveInteger( size ) && !isNull( size ) ) {
		throw new TypeError( 'invalid value. `window` must be a positive integer or null. Value: `' + size + '`.' );
	}
	if ( size === null ) {
		size = PINF;
	}
	if ( size < this._data.length ) {
		throw new Error( 'invalid value. `window` size is smaller than the number of data elements. Number of elements: `'+ this._data.length + '`. Value: `' + size + '`.' );
	}
	this._window = size;
}


// EXPORTS //

module.exports = setWindow;
