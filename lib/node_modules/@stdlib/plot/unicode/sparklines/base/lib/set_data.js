'use strict';

// MODULES //

var isTypedArray = require( '@stdlib/utils/is-typed-array' );
var isArray = require( '@stdlib/utils/is-array' );
var formatData = require( './format_data.js' );


// SET DATA //

/**
* Sets the chart data.
*
* @private
* @param {(Array|TypedArray)} data - data
* @throws {TypeError} must be an array or typed array
* @throws {Error} length must not exceed maximum sliding window size
*/
function setData( data ) {
	/* jshint validthis: true */ // TODO: eslint
	if (
		!isArray( data ) &&
		!isTypedArray( data )
	) {
		throw new TypeError( 'invalid value. Must be an array or typed array. Value: `' + data + '`.' );
	}
	if ( data.length > this._window ) {
		throw new Error( 'invalid value. Length exceeds maximum sliding window size. Window: `' + this._window + '`. Length: `' + data.length + '`.' );
	}
	this._data = formatData( data, this._yValue );
} // end FUNCTION setData()


// EXPORTS //

module.exports = setData;
