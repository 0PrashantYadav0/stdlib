'use strict';

// MODULES //

var debug = require( 'debug' )( 'time-series:engine:triangle' );


// TRIANGLE //

/**
* Returns a function for creating triangles as SVG paths.
*
* @private
* @returns {Function} function to create triangles
*/
function triangle() {
	/*jshint validthis:true */ // TODO: eslint
	var xPos = this.state.xPos;

	/**
	* Creates a triangle as an SVG path.
	*
	* @private
	* @param {Array} d - datum
	* @param {number} i - datum index
	* @returns {string} SVG path string
	*/
	return function triangle( d ) {
		var p1;
		var p2;
		var p3;
		var x;
		var l;

		x = xPos( d );
		debug( 'x (px): %d.', x );

		p1 = (x-4) + ',-9';
		p2 = x + ',-2';
		p3 = (x+4) + ',-9';
		l = 'M' + p1 + 'L' + p2 + 'L' + p3 + 'Z';
		debug( 'Path: %s.', l );

		return l;
	}; // end FUNCTION triangle()
} // end FUNCTION triangle()


// EXPORTS //

module.exports = triangle;
