'use strict';

// MODULES //

var isNull = require( '@stdlib/utils/is-null' );
var max = require( './../utils/max.js' );


// FUNCTIONS //

/**
* Computes a maximum value.
*
* @private
* @param {Array<NumericArray>} arr - input array
* @returns {(number|null)} maximum value or null
*/
function getMax( arr ) {
	var tmp;
	var i;
	if ( arr.length === 0 ) {
		return 0.0;
	}
	tmp = new Array( arr.length );
	for ( i = 0; i < arr.length; i++ ) {
		tmp[ i ] = max( arr[ i ] );
	}
	return max( tmp );
} // end FUNCTION getMax


// Y-AXIS MAX //

/**
* Computes the maximum value of the y-axis domain.
*
* @private
* @returns {number} maximum value
*/
function yMax() {
	/* jshint validthis: true */ // TODO: eslint
	var max;
	if ( isNull( this.state.yMax ) ) {
		max = getMax( this.state.y );
		return ( isNull( max ) ) ? 1.0 : max;
	}
	return this.state.yMax;
} // end FUNCTION yMax()


// EXPORTS //

module.exports = yMax;
