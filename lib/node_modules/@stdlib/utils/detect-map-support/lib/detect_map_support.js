'use strict';

// MODULES //

var GlobalMap = require( './map.js' );


// MAIN //

/**
* Tests for native `Map` support.
*
* @returns {boolean} boolean indicating if an environment has `Map` support
*
* @example
* var bool = hasMapSupport();
* // returns <Boolean>
*/
function hasMapSupport() {
	var bool;
	var key;
	var map;

	if ( typeof GlobalMap !== 'function' ) {
		return false;
	}
	// Test basic support...
	try {
		key = {};
		map = new GlobalMap();
		map.set( key, 'beep' );
		bool = (
			map.has( key ) &&
			map.get( key ) === 'beep'
		);
	} catch ( err ) { // eslint-disable-line no-unused-vars
		bool = false;
	}
	return bool;
}


// EXPORTS //

module.exports = hasMapSupport;
