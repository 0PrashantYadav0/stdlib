'use strict';

var replace = require( '@stdlib/string/replace' );
var waterfall = require( './../lib' );

function foo( next ) {
	next( null, 'beep' );
}

function bar( str, next ) {
	console.log( str );
	next( null, replace( str, 'e', 'o' ) );
}

function fun( str, next ) {
	console.log( str );
	next();
}

function done( error ) {
	if ( error ) {
		throw error;
	}
	console.log( 'done' );
}

var fcns = [ foo, bar, fun ];

waterfall( fcns, done );
