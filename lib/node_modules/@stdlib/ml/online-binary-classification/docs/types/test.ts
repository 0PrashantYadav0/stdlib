/*
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/

import onlineBinaryClassification = require( './index' );


// TESTS //

// The function returns a model object...
{
	onlineBinaryClassification(); // $ExpectType Model
	onlineBinaryClassification( { 'learningRate': 'pegasos' } ); // $ExpectType Model
}

// The compiler throws an error if the function is provided a first argument which is not an object...
{
	onlineBinaryClassification( 'abc' ); // $ExpectError
	onlineBinaryClassification( false ); // $ExpectError
	onlineBinaryClassification( true ); // $ExpectError
	onlineBinaryClassification( null ); // $ExpectError
	onlineBinaryClassification( 123 ); // $ExpectError
	onlineBinaryClassification( [] ); // $ExpectError
	onlineBinaryClassification( ( x: number ): number => x ); // $ExpectError
}

// The compiler throws an error if the function is provided an `epsilon` option which is not a number...
{
	onlineBinaryClassification( { 'epsilon': 'abc' } ); // $ExpectError
	onlineBinaryClassification( { 'epsilon': null } ); // $ExpectError
	onlineBinaryClassification( { 'epsilon': true } ); // $ExpectError
	onlineBinaryClassification( { 'epsilon': false } ); // $ExpectError
	onlineBinaryClassification( { 'epsilon': [] } ); // $ExpectError
	onlineBinaryClassification( { 'epsilon': {} } ); // $ExpectError
	onlineBinaryClassification( { 'epsilon': ( x: number ): number => x } ); // $ExpectError
}

// The compiler throws an error if the function is provided an `eta0` option which is not a number...
{
	onlineBinaryClassification( { 'eta0': 'abc' } ); // $ExpectError
	onlineBinaryClassification( { 'eta0': null } ); // $ExpectError
	onlineBinaryClassification( { 'eta0': true } ); // $ExpectError
	onlineBinaryClassification( { 'eta0': false } ); // $ExpectError
	onlineBinaryClassification( { 'eta0': [] } ); // $ExpectError
	onlineBinaryClassification( { 'eta0': {} } ); // $ExpectError
	onlineBinaryClassification( { 'eta0': ( x: number ): number => x } ); // $ExpectError
}

// The compiler throws an error if the function is provided a `lambda` option which is not a number...
{
	onlineBinaryClassification( { 'lambda': 'abc' } ); // $ExpectError
	onlineBinaryClassification( { 'lambda': null } ); // $ExpectError
	onlineBinaryClassification( { 'lambda': true } ); // $ExpectError
	onlineBinaryClassification( { 'lambda': false } ); // $ExpectError
	onlineBinaryClassification( { 'lambda': [] } ); // $ExpectError
	onlineBinaryClassification( { 'lambda': {} } ); // $ExpectError
	onlineBinaryClassification( { 'lambda': ( x: number ): number => x } ); // $ExpectError
}

// The compiler throws an error if the function is provided a `learningRate` option which is not a recognized learning rate...
{
	onlineBinaryClassification( { 'learningRate': 'abc' } ); // $ExpectError
	onlineBinaryClassification( { 'learningRate': 123 } ); // $ExpectError
	onlineBinaryClassification( { 'learningRate': true } ); // $ExpectError
	onlineBinaryClassification( { 'learningRate': false } ); // $ExpectError
	onlineBinaryClassification( { 'learningRate': [] } ); // $ExpectError
	onlineBinaryClassification( { 'learningRate': {} } ); // $ExpectError
	onlineBinaryClassification( { 'learningRate': ( x: number ): number => x } ); // $ExpectError
}

// The compiler throws an error if the function is provided a `loss` option which is not a recognized loss function...
{
	onlineBinaryClassification( { 'loss': 'abc' } ); // $ExpectError
	onlineBinaryClassification( { 'loss': 123 } ); // $ExpectError
	onlineBinaryClassification( { 'loss': true } ); // $ExpectError
	onlineBinaryClassification( { 'loss': false } ); // $ExpectError
	onlineBinaryClassification( { 'loss': [] } ); // $ExpectError
	onlineBinaryClassification( { 'loss': {} } ); // $ExpectError
	onlineBinaryClassification( { 'loss': ( x: number ): number => x } ); // $ExpectError
}

// The compiler throws an error if the function is provided an `intercept` option which is not a boolean...
{
	onlineBinaryClassification( { 'intercept': 'abc' } ); // $ExpectError
	onlineBinaryClassification( { 'intercept': 123 } ); // $ExpectError
	onlineBinaryClassification( { 'intercept': null } ); // $ExpectError
	onlineBinaryClassification( { 'intercept': [] } ); // $ExpectError
	onlineBinaryClassification( { 'intercept': {} } ); // $ExpectError
	onlineBinaryClassification( { 'intercept': ( x: number ): number => x } ); // $ExpectError
}

// The compiler throws an error if the function is provided an invalid number of arguments...
{
	onlineBinaryClassification( {}, {} ); // $ExpectError
}

// The compiler throws an error if the `update` method of the returned model object is provided a first argument that is not a numeric array...
{
	const model = onlineBinaryClassification();
	model.update( 'abc', 2.5 ); // $ExpectError
	model.update( false, 2.5 ); // $ExpectError
	model.update( true, 2.5 ); // $ExpectError
	model.update( null, 2.5 ); // $ExpectError
	model.update( 123, 2.5 ); // $ExpectError
	model.update( {}, 2.5 ); // $ExpectError
	model.update( ( x: number ): number => x, 2.5 ); // $ExpectError
}

// The compiler throws an error if the `update` method of the returned model object is provided a second argument that is not a number...
{
	const model = onlineBinaryClassification();
	model.update( [ 2.3, 1.0, 5.0 ], 'abc' ); // $ExpectError
	model.update( [ 2.3, 1.0, 5.0 ], false ); // $ExpectError
	model.update( [ 2.3, 1.0, 5.0 ], true ); // $ExpectError
	model.update( [ 2.3, 1.0, 5.0 ], null ); // $ExpectError
	model.update( [ 2.3, 1.0, 5.0 ], [] ); // $ExpectError
	model.update( [ 2.3, 1.0, 5.0 ], {} ); // $ExpectError
	model.update( [ 2.3, 1.0, 5.0 ], ( x: number ): number => x ); // $ExpectError
}

// The compiler throws an error if the `update` method of the returned model object is provided an invalid number of arguments...
{
	const model = onlineBinaryClassification();
	model.update(); // $ExpectError
	model.update( [ 2.3, 1.0, 5.0 ] ); // $ExpectError
	model.update( [ 2.3, 1.0, 5.0 ], 2.0, 2.0 ); // $ExpectError
}

// The compiler throws an error if the `predict` method of the returned model object is provided a first argument that is not a numeric array...
{
	const model = onlineBinaryClassification();
	model.predict( 'abc' ); // $ExpectError
	model.predict( false ); // $ExpectError
	model.predict( true ); // $ExpectError
	model.predict( null ); // $ExpectError
	model.predict( 123 ); // $ExpectError
	model.predict( {} ); // $ExpectError
	model.predict( ( x: number ): number => x ); // $ExpectError
}

// The compiler throws an error if the `predict` method of the returned model object is provided a second argument that is not `link` or `probability`...
{
	const model = onlineBinaryClassification();
	model.predict( [ 2.3, 1.0, 5.0 ], 'abc' ); // $ExpectError
	model.predict( [ 2.3, 1.0, 5.0 ], false ); // $ExpectError
	model.predict( [ 2.3, 1.0, 5.0 ], true ); // $ExpectError
	model.predict( [ 2.3, 1.0, 5.0 ], null ); // $ExpectError
	model.predict( [ 2.3, 1.0, 5.0 ], 123 ); // $ExpectError
	model.predict( [ 2.3, 1.0, 5.0 ], {} ); // $ExpectError
	model.predict( [ 2.3, 1.0, 5.0 ], [] ); // $ExpectError
	model.predict( [ 2.3, 1.0, 5.0 ], ( x: number ): number => x ); // $ExpectError
}

// The compiler throws an error if the `predict` method of the returned model object is provided an invalid number of arguments...
{
	const model = onlineBinaryClassification();
	model.predict(); // $ExpectError
	model.predict( [ 2.3, 1.0, 5.0 ], 'link', {} ); // $ExpectError
}
