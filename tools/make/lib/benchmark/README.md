# Benchmark

> Benchmark recipes.

<!-- Section to include introductory text. Make sure to keep an empty line after the intro `section` element and another before the `/section` close. -->

<section class="intro">

This directory contains [`make`][make] recipes for running language benchmarks.

</section>

<!-- /.intro -->

<!-- Usage documentation. -->

<section class="usage">

## Usage

```text
Usage: make <command> [<ENV_VAR>=<value> <ENV_VAR>=<value> ...]
```

* * *

### C

#### benchmark-c

Runs C benchmarks.

<!-- run-disable -->

```bash
$ make benchmark-c
```

The recipe recognizes the following environment variables:

-   **BENCHMARKS_FILTER**: filepath pattern; e.g., `.*/blas/base/dasum/.*`.
-   **BLAS**: BLAS library name; e.g., `openblas`.
-   **BLAS_DIR**: BLAS directory.
-   **C_COMPILER**: C compiler; e.g., `gcc`.

This recipe is useful when wanting to glob for C benchmark files (e.g., run all C benchmarks for a particular package).

#### benchmark-c-files

Runs a specified list of C benchmark files.

<!-- run-disable -->

```bash
$ make benchmark-c-files FILES='/foo/benchmark.c /bar/benchmark.c'
```

The recipe recognizes the following environment variables:

-   **FILES**: list of C benchmark files.
-   **BLAS**: BLAS library name; e.g., `openblas`.
-   **BLAS_DIR**: BLAS directory.
-   **C_COMPILER**: C compiler; e.g., `gcc`.

This recipe is useful when wanting to run a list of C benchmark files generated by some other command (e.g., a filtered list of changed C benchmark files obtained via `git diff`).

* * *

</section>

<!-- /.usage -->

<!-- Section to include notes. Make sure to keep an empty line after the `section` element and another before the `/section` close. -->

<section class="notes">

</section>

<!-- /.notes -->

<!-- Section for all links. Make sure to keep an empty line after the `section` element and another before the `/section` close. -->

<section class="links">

[make]: https://www.gnu.org/software/make/

</section>

<!-- /.links -->
