
# VARIABLES #

# Define the path to the `tap-spec` executable:
TAP_REPORTER ?= $(BIN_DIR)/tap-spec

# Define the path to the `tap-summary` executable:
TAP_SUMMARY ?= $(BIN_DIR)/tap-summary


# DEPENDENCIES #

include $(TOOLS_MAKE_LIB_DIR)/test/javascript.mk


# TARGETS #

# Run unit tests.
#
# This target runs unit tests using a specified test runner and pipes TAP output to a reporter which is expected to be [tap-spec][1].
#
# To install tap-spec:
#     $ npm install tap-spec
#
# [1]: https://github.com/scottcorgan/tap-spec

test: test-local

.PHONY: test


# Run unit tests locally.
#
# This target runs unit tests in a local environment.

test-local: test-javascript-local

.PHONY: test-local


# Generate a test summary.
#
# This target runs unit tests and aggregates TAP output as a test summary. The test summary is expected to be generated by [tap-summary][1].
#
# To install tap-summary:
#      $ npm install tap-summary
#
# [1]: https://github.com/zoubin/tap-summary

test-summary: test-javascript-summary

.PHONY: test-summary
